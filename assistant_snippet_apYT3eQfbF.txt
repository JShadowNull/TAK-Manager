1|1|if (isLoading) {
2|2|  setIsTransitioning(true);
3|3|  // When starting operation, set target state to what we expect after the operation
4|4|  setTargetState(!isRunning);
5|5|} else if (isTransitioning) {
6|6|  // Add a small delay to ensure container status is stable
7|7|  const timer = setTimeout(() => {
8|8|    setIsTransitioning(false);
9|9|    setTargetState(isRunning);
10|10|  }, 500);
11|11|  return () => clearTimeout(timer);
12|12|} 