<div class="preference-item">
    <div class="flex items-center mb-1">
        {% if show_checkbox is not defined or show_checkbox %}
        <input type="checkbox" class="enable-preference mr-2" checked>
        {% endif %}
        
        <!-- Main content area -->
        <div class="input-area flex justify-between items-center w-full">
            <span class="text-sm preference-label" data-label="{{ label }}">{{ name }}</span>
            {% if show_label is defined and not show_label %}
                {% if input_type in ["text", "number"] %}
                    <div class="relative w-1/4">
                        <input 
                            type="{% if type %}{{ type }}{% else %}{{ input_type }}{% endif %}" 
                            class="w-full bg-buttonColor text-sm border-1 border-buttonBorder p-2 rounded-lg cursor-pointer"
                            {% if value %}value="{{ value }}"{% endif %}
                            {% if id %}id="{{ id }}"{% endif %}
                            {% if name %}name="{{ name }}"{% endif %}
                            {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
                            {% if disabled %}disabled{% endif %}
                            {% if min is defined %}min="{{ min }}"{% endif %}
                            {% if max is defined %}max="{{ max }}"{% endif %}
                        >
                    </div>
                {% elif input_type == "select" %}
                    <div class="relative w-1/4">
                        <select 
                            class="{% if is_certificate_dropdown %}cert-select{% endif %} dropdown w-full bg-buttonColor text-sm border border-buttonBorder p-2 pl-3 pr-10 rounded-lg cursor-pointer appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200" 
                            {% if data_input_id %}data-input-id="{{ data_input_id }}"{% endif %}
                            {% if is_certificate_dropdown %}data-certificate-dropdown="true"{% endif %}
                            name="{{ label }}"
                        >
                            <option value="">Select Certificate...</option>
                        </select>
                        <div class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                            <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </div>
                        {% if hidden_input_id %}
                            <input 
                                type="hidden" 
                                id="{{ hidden_input_id }}" 
                                {% if hidden_value %}value="{{ hidden_value }}"{% endif %}
                            >
                        {% endif %}
                    </div>
                {% else %}
                    <div class="relative">
                        <input 
                            type="checkbox" 
                            class="peer appearance-none w-4 h-4 bg-transparent border-2 border-transparent rounded cursor-pointer transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"
                            {% if checked %}checked{% endif %}
                            {% if id %}id="{{ id }}"{% endif %}
                            {% if name %}name="{{ name }}"{% endif %}
                            {% if disabled %}disabled{% endif %}
                        >
                        <!-- Checkmark icon -->
                        <svg class="absolute inset-0 text-green-500 pointer-events-none hidden peer-checked:block w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                            <path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
                        </svg>
                        <!-- X icon -->
                        <svg class="absolute inset-0 text-red-500 pointer-events-none hidden peer-[&:not(:checked)]:block w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                            <path fill="currentColor" d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"/>
                        </svg>
                    </div>
                {% endif %}
            {% endif %}
        </div>
    </div>

    {% if not show_label is defined or show_label %}
        <div class="input-area flex justify-between items-center">
            {% if not show_label is defined or show_label %}
                <span class="text-xs text-gray-400 preference-label" data-label="{{ label }}">{{ label }}</span>
            {% endif %}
            
            {% if input_type in ["text", "number"] %}
                <!-- Text/Number Input -->
                <input type="{% if type %}{{ type }}{% else %}{{ input_type }}{% endif %}" 
                       class="w-1/4 bg-buttonColor text-sm border-1 border-buttonBorder p-2 rounded-lg cursor-pointer"
                       {% if value %}value="{{ value }}"{% endif %}
                       {% if id %}id="{{ id }}"{% endif %}
                       {% if name %}name="{{ name }}"{% endif %}
                       {% if placeholder %}placeholder="{{ placeholder }}"{% endif %}
                       {% if disabled %}disabled{% endif %}
                       {% if min is defined %}min="{{ min }}"{% endif %}
                       {% if max is defined %}max="{{ max }}"{% endif %}>
            {% elif input_type == "select" %}
                <!-- Dropdown Input -->
                <div class="relative w-1/4">
                    <select class="dropdown w-full bg-buttonColor text-sm border border-buttonBorder p-2 pl-3 pr-10 rounded-lg cursor-pointer appearance-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200" 
                            {% if data_input_id %}data-input-id="{{ data_input_id }}"{% endif %}
                            {% if is_certificate_dropdown %}data-certificate-dropdown="true"{% endif %}
                        >
                        {% if options %}
                            {% for option in options %}
                                <option value="{{ option.value }}">{{ option.text }}</option>
                            {% endfor %}
                        {% else %}
                            <option value="">Select Certificate...</option>
                        {% endif %}
                    </select>
                    <div class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                        <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    {% if hidden_input_id %}
                        <input type="hidden" id="{{ hidden_input_id }}" {% if hidden_value %}value="{{ hidden_value }}"{% endif %}>
                    {% endif %}
                </div>
            {% else %}
                <!-- Checkbox Input -->
                <div class="relative">
                    <input type="checkbox" 
                           class="peer appearance-none w-4 h-4 bg-transparent border-2 border-transparent rounded cursor-pointer transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50"
                           {% if checked %}checked{% endif %}
                           {% if id %}id="{{ id }}"{% endif %}
                           {% if name %}name="{{ name }}"{% endif %}
                           {% if disabled %}disabled{% endif %}>
                    
                    <!-- Checkmark icon -->
                    <svg class="absolute inset-0 text-green-500 pointer-events-none hidden peer-checked:block w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                        <path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/>
                    </svg>
                    
                    <!-- X icon -->
                    <svg class="absolute inset-0 text-red-500 pointer-events-none hidden peer-[&:not(:checked)]:block w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                        <path fill="currentColor" d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"/>
                    </svg>
                </div>
            {% endif %}
        </div>
    {% endif %}
</div>
